# 修复TTS语音逻辑问题

## 问题分析
当前语音逻辑：
1. 进入input界面 → 朗读句子（✅正确）
2. 翻页下一句 → 朗读句子（✅正确）
3. 正确完成 → 表扬语音（❌没有）
4. 错误输入 → 鼓励语音（✅正确）

## 核心问题
表扬语音没有播放，因为`speak_praise()`被立即调用，但此时游戏还在处理输入事件，可能导致语音被中断或阻塞。

## 解决方案

### 1. 使用异步语音播放
- 创建独立的语音线程
- 避免阻塞主游戏循环
- 使用队列管理语音任务

### 2. 延迟播放表扬语音
- 在提交完成后稍微延迟播放表扬
- 确保游戏状态更新完成后再播放

### 3. 优化语音播放逻辑
- 添加语音播放状态管理
- 避免重复播放
- 处理语音播放异常

## 具体实现

### 1. 添加语音线程和队列
```python
import threading
import queue
```

### 2. 创建语音管理器
- 初始化语音引擎和队列
- 启动语音播放线程
- 添加语音播放方法

### 3. 修改表扬逻辑
- 使用异步方式播放表扬语音
- 确保语音播放不会阻塞游戏

## 修改文件
- [main.py](file:///Users/sckicker/Documents/AutoWords/main.py) - 实现异步语音播放

## 预期效果
- 进入界面时朗读句子
- 翻页时朗读新句子
- 正确完成时播放表扬语音
- 错误输入时播放鼓励语音
- 所有语音都不会阻塞游戏运行